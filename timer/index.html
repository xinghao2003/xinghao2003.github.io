<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">09:00:00</title>
</head>
<body>
    <div id="countdown">09:00:00</div>
    <br>
    <button id="addHourBtn" onclick="addHour()">+1h</button>
    <button id="subtractHourBtn" onclick="subtractHour()">-1h</button>
    <br>
    <div id="statusMessage"></div>

    <script>
        // Initialize with 9 hours duration
        let durationMs = 9 * 60 * 60 * 1000; // 9 hours in milliseconds
        let startTime = Date.now();
        let countdownInterval;

        function formatTime(totalMs) {
            if (totalMs <= 0) return '00:00:00';
            
            const totalSeconds = Math.floor(totalMs / 1000);
            const hours = Math.floor(totalSeconds / 3600);
            const minutes = Math.floor((totalSeconds % 3600) / 60);
            const secs = totalSeconds % 60;
            
            return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        function updateDisplay() {
            const now = Date.now();
            const elapsed = now - startTime;
            const remaining = durationMs - elapsed;
            
            const countdownElement = document.getElementById('countdown');
            const statusElement = document.getElementById('statusMessage');
            const titleElement = document.getElementById('pageTitle');
            
            if (remaining <= 0) {
                const timeText = '00:00:00';
                countdownElement.textContent = timeText;
                titleElement.textContent = timeText;
                statusElement.textContent = "Time's Up!";
                clearInterval(countdownInterval);
                return;
            }
            
            const timeText = formatTime(remaining);
            countdownElement.textContent = timeText;
            titleElement.textContent = timeText;
        }

        function addHour() {
            durationMs += 60 * 60 * 1000; // Add 1 hour
            const statusElement = document.getElementById('statusMessage');
            statusElement.textContent = '+ 1 hour added!';
            
            // Clear the status message after 2 seconds
            setTimeout(() => {
                statusElement.textContent = '';
            }, 2000);
            
            // Restart countdown if it had finished
            if (!countdownInterval) {
                startCountdown();
            }
        }

        function subtractHour() {
            durationMs -= 60 * 60 * 1000; // Subtract 1 hour
            
            // Don't let it go below 0
            if (durationMs < 0) {
                durationMs = 0;
            }
            
            const statusElement = document.getElementById('statusMessage');
            statusElement.textContent = '- 1 hour removed!';
            
            // Clear the status message after 2 seconds
            setTimeout(() => {
                statusElement.textContent = '';
            }, 2000);
            
            // Restart countdown if it had finished
            if (!countdownInterval) {
                startCountdown();
            }
        }

        function startCountdown() {
            // Reset start time to now
            startTime = Date.now();
            
            // Update immediately
            updateDisplay();
            
            // Clear any existing interval
            if (countdownInterval) {
                clearInterval(countdownInterval);
            }
            
            // Then update every second
            countdownInterval = setInterval(updateDisplay, 1000);
        }

        // Start the countdown when the page loads
        window.addEventListener('load', startCountdown);
    </script>
</body>
</html>
